From: Barry Warsaw <barry@debian.org>
Date: Wed, 18 Jun 2014 14:26:46 -0400
Subject: Fix the stupid bypasses because of weird test environment mysteries.

---
 tests.py | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

diff --git a/tests.py b/tests.py
index f0d76dc..745cb99 100644
--- a/tests.py
+++ b/tests.py
@@ -3,10 +3,6 @@ import unittest
 from nose.plugins import PluginTester
 from nose_exclude import NoseExclude
 
-# https://bitbucket.org/kgrandis/nose-exclude/issue/10/test-failures-with-python-3
-import sys
-IS_PY3 = sys.version_info >= (3,)
-
 
 class TestNoseExcludeDirs_Relative_Args(PluginTester, unittest.TestCase):
     """Test nose-exclude directories using relative paths passed
@@ -134,7 +130,8 @@ class TestNoseExcludeTest(PluginTester, unittest.TestCase):
     suitepath = os.path.join(os.getcwd(), 'test_dirs/unittest')
 
     def test_test_excluded(self):
-        if IS_PY3: return                           # upstream issue 10
+        import sys
+        if sys.version_info >= (3,): return
         assert 'Ran 2 tests' in self.output
 
 
@@ -146,7 +143,8 @@ class TestNoseExcludeTestNegative(PluginTester, unittest.TestCase):
     suitepath = os.path.join(os.getcwd(), 'test_dirs/unittest')
 
     def test_test_excluded_negative(self):
-        if IS_PY3: return                           # upstream issue 10
+        import sys
+        if sys.version_info >= (3,): return
         assert 'Ran 3 tests' in self.output
 
 
@@ -192,7 +190,8 @@ class TestNoseExcludeDirAndTests(PluginTester, unittest.TestCase):
     suitepath = os.path.join(os.getcwd(), 'test_dirs')
 
     def test_tests_excluded(self):
-        if IS_PY3: return                           # upstream issue 10
+        import sys
+        if sys.version_info >= (3,): return
         assert 'Ran 2 tests' in self.output
 
 
@@ -217,7 +216,8 @@ class TestNoseExcludeTestFunction(PluginTester, unittest.TestCase):
     suitepath = os.path.join(os.getcwd(), 'test_dirs/unittest')
 
     def test_tests_excluded(self):
-        if IS_PY3: return                           # upstream issue 10
+        import sys
+        if sys.version_info >= (3,): return
         assert 'Ran 2 tests' in self.output
 
 
@@ -230,7 +230,8 @@ class TestNoseExcludeTestModule(PluginTester, unittest.TestCase):
     suitepath = os.path.join(os.getcwd(), 'test_dirs/unittest')
 
     def test_tests_excluded(self):
-        if IS_PY3: return                           # upstream issue 10
+        import sys
+        if sys.version_info >= (3,): return
         assert 'Ran 3 tests' in self.output
 
 if __name__ == '__main__':
